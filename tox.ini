[tox]
envlist = py{34,35,36}-{core,testtools},docs,pep8

[testenv]
extras =
    test
    testtools: testtools
deps =
    coverage
commands =
    pip list
    # Assume core tests will always run first and have them erase coverage.
    core: coverage run -m pytest {posargs:seaworthy/tests}
    testtools: coverage run -a -m pytest {posargs:seaworthy/tests-testtools}
    coverage report -m

[testenv:docs]
extras =
    docstest
commands =
    doc8 README.rst
    python setup.py check --restructuredtext --strict

[testenv:pep8]
extras =
    pep8test
commands =
    flake8 .

[flake8]
application-import-names = seaworthy
